{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts","./src/app/services/toast.service.ts"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["export default \"  <ion-content padding='true' class=\\\"vertical-center\\\">\\r\\n    <br><br><br><br><br><br><br><br>\\r\\n  <div class=\\\"center\\\">\\r\\n  <!-- <img src=\\\"assets/images/logo.jpg\\\" class=\\\"smallLogo\\\"/> -->\\r\\n  <h1>Student Learning Platform</h1>\\r\\n  </div>\\r\\n  <br>\\r\\n  <form>\\r\\n  <ion-list>\\r\\n  <ion-item>\\r\\n  <ion-label position=\\\"stacked\\\">Username</ion-label>\\r\\n  <ion-input autocomplete=\\\"off\\\" type=\\\"text\\\" name=\\\"username\\\" [(ngModel)]=\\\"postData.Username\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  \\r\\n  <ion-item>\\r\\n  <ion-label position=\\\"stacked\\\">Password</ion-label>\\r\\n  <ion-input autocomplete=\\\"off\\\" [type]=\\\"showPassword3 ? 'text': 'password'\\\" name=\\\"password\\\" [(ngModel)]=\\\"postData.Password\\\"></ion-input>\\r\\n  <ion-icon slot=\\\"end\\\" [name]=\\\"passwordToggleIcon3\\\" (click)=\\\"togglePassword3()\\\"></ion-icon>\\r\\n</ion-item>\\r\\n<div class=\\\"forgot\\\">\\r\\n  <p (click)=\\\"OpenEmailComposer()\\\">Forgot?</p></div>\\r\\n<br>\\r\\n<br>\\r\\n  <div class=\\\"button\\\" div class=\\\"center\\\">\\r\\n    <ion-button class=\\\"ionbutton\\\" style=\\\"color:white\\\" (click)=\\\"Login()\\\" routerDirection=\\\"root\\\">Sign In</ion-button>\\r\\n      <ion-button (click)=\\\"openCamera()\\\">\\r\\n        <ion-icon name=\\\"camera\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n  </div>\\r\\n  <br>\\r\\n  <br>\\r\\n  <p class=\\\"center1\\\" (click)=\\\"signin()\\\" style=\\\"margin:auto; text-align:center; display:block;\\\">Sign Up An Account?</p>\\r\\n  </ion-list>\\r\\n  \\r\\n  </form>\\r\\n  </ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","export default \".center {\\n  text-align: center;\\n}\\n\\n.forgot {\\n  text-align: right;\\n  padding: 10px;\\n  color: gray;\\n}\\n\\n.vertical-center {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.button {\\n  font-family: \\\"Roboto\\\";\\n  padding: 1000;\\n}\\n\\nh1 {\\n  font: #3f434b #3f434b;\\n}\\n\\n.center1 {\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  align-self: center;\\n}\\n\\n.ionbutton {\\n  --vertical-align: middle;\\n  --padding-start: 100px;\\n  --padding-end: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vQzpcXFVzZXJzXFxEYW5hZVxcRGVza3RvcFxcRllQSlxcSW9uaWNGUC9zcmNcXGFwcFxcbG9naW5cXGxvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUNDSjs7QURDQTtFQUNJLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QUNFSjs7QURDQTtFQUVRLGFBQUE7RUFDQSxtQkFBQTtBQ0NSOztBRElBO0VBQ0kscUJBQUE7RUFDQSxhQUFBO0FDREo7O0FESUE7RUFDSSxxQkFBQTtBQ0RKOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQ0RKOztBRElBO0VBRUksd0JBQUE7RUFDQSxzQkFBQTtFQUNBLG9CQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2VudGVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZm9yZ290IHtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGNvbG9yOiBncmF5O1xyXG59XHJcblxyXG4udmVydGljYWwtY2VudGVyIHtcclxuICAgXHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIC8vIHBhZGRpbmc6IDEwcHg7XHJcblxyXG4gICAgfVxyXG5cclxuLmJ1dHRvbiB7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90byc7XHJcbiAgICBwYWRkaW5nOiAxMDAwO1xyXG59XHJcblxyXG5oMSB7XHJcbiAgICBmb250OiAjM2Y0MzRiKHJnYig2Myw2Nyw3NSkpO1xyXG59XHJcblxyXG4uY2VudGVyMSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxufVxyXG5cclxuLmlvbmJ1dHRvbiB7XHJcbiAgICAvLyAtLXdpZHRoOiA1MDBweDtcclxuICAgIC0tdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIC0tcGFkZGluZy1zdGFydDogMTAwcHg7XHJcbiAgICAtLXBhZGRpbmctZW5kOiAxMDBweDtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAiLCIuY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZm9yZ290IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGNvbG9yOiBncmF5O1xufVxuXG4udmVydGljYWwtY2VudGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmJ1dHRvbiB7XG4gIGZvbnQtZmFtaWx5OiBcIlJvYm90b1wiO1xuICBwYWRkaW5nOiAxMDAwO1xufVxuXG5oMSB7XG4gIGZvbnQ6ICMzZjQzNGIgIzNmNDM0Yjtcbn1cblxuLmNlbnRlcjEge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLmlvbmJ1dHRvbiB7XG4gIC0tdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgLS1wYWRkaW5nLXN0YXJ0OiAxMDBweDtcbiAgLS1wYWRkaW5nLWVuZDogMTAwcHg7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport {Storage} from '@ionic/storage';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport {apiurl} from '../model/global-api';\r\nimport { ToastService } from './../services/toast.service';\r\nimport {EmailComposer} from '@ionic-native/email-composer/ngx';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LoadingController, AlertController} from '@ionic/angular';\r\nimport { AssignmentsService } from '../services/assignments.service';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx'\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  constructor(\r\n    private alertController: AlertController,\r\n    public loadingController: LoadingController,\r\n    private router:Router,\r\n    private platform: Platform,\r\n    private storage:Storage,\r\n    private nativeHttp:HTTP,\r\n    private toastService: ToastService,\r\n    private assignmentsService: AssignmentsService,\r\n    public composer: EmailComposer, \r\n    private camera: Camera) { }\r\n\r\n  loading: any;\r\n  showPassword3 = false;\r\n  passwordToggleIcon3 = \"eye\";\r\n\r\npublic postData = {\r\nUsername: '',\r\nPassword: ''\r\n};\r\nionViewDidEnter(){\r\n  this.platform.backButton.subscribeWithPriority(10, () => {\r\n    console.log('Handler was called! in login');\r\n  });\r\n}\r\n  ngOnInit() {\r\n    \r\n  }\r\n  togglePassword3(): void {\r\n    this.showPassword3 = !this.showPassword3;\r\n    if(this.passwordToggleIcon3 == \"eye\") {\r\n      this.passwordToggleIcon3 = 'eye-off';\r\n    }\r\n    else {\r\n      this.passwordToggleIcon3 = 'eye';\r\n    }\r\n  }\r\n\r\n\r\n  signin() {\r\n    this.router.navigateByUrl('/signup');  \r\n  }\r\n  \r\n  OpenEmailComposer() {\r\n    this.composer.open({\r\n      to: 'fypups2020@gmail.com'\r\n    })\r\n  }\r\n  \r\n  Login(){\r\n    if (this.postData.Username == \"\" && this.postData.Password == \"\")  {\r\n      this.toastService.presentToast(\r\n        'Please enter username and password.');\r\n    }\r\n\r\n    else if (this.postData.Username == \"\") {\r\n      this.toastService.presentToast(\r\n        'Please enter username.');\r\n    }\r\n\r\n    else if (this.postData.Password == \"\") {\r\n      this.toastService.presentToast(\r\n        'Please enter password.');\r\n    }\r\n\r\n    else {\r\n      this.AuthLogin() }\r\n  }\r\n  \r\n \r\n AuthLogin()\r\n {\r\n  this.nativeHttp.setDataSerializer('json');\r\n   this.nativeHttp.post(apiurl.apiUrl+'student/login', {\r\n    \"Username\": this.postData.Username,\r\n    \"Password\": this.postData.Password\r\n}, {\r\n  'Accept': 'application/json',\r\n  'Content-Type': 'application/json' })\r\n  .then(async response => {\r\n    try {\r\n      response.data = JSON.parse(response.data);\r\n      console.log(response.data)\r\n      this.storage.set('authlogin', response.data); \r\n      this.postData.Username = ''\r\n      this.postData.Password = ''\r\n \r\n      const alert = await this.alertController.create({\r\n        header: 'Sign In',\r\n        // subHeader: 'Sub Alert',\r\n        message: 'Login Successful!',\r\n        buttons: [{\r\n          text: 'Okay',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('You clicked me');\r\n            this.router.navigateByUrl('/tabs/main');\r\n          }\r\n        }\r\n      ]\r\n      });\r\n     await alert.present();\r\n      \r\n    } catch(e) {\r\n      console.error(e);\r\n      console.log(\"Not a valid account! Wrong details entered!\");\r\n      this.toastService.presentToast(\r\n        'Please enter correct details!');\r\n    }\r\n })\r\n .catch(response => {\r\n   // prints 403\r\n  console.log(response.status);\r\n\r\n   // prints Permission denied\r\n  console.log(response.error);\r\n  this.assignmentsService.presentError();    \r\n\r\n });\r\n }\r\n\r\n  //Loading Pop up\r\n  async presentLoading() {\r\n    // Prepare a loading controller\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait',\r\n      cssClass: 'custom-class custom-loading',\r\n      duration: 60000,\r\n      backdropDismiss: false\r\n    });\r\n    // Present the loading controller\r\n\r\n    await this.loading.present();\r\n  }\r\n\r\n openCamera() {\r\n   const cameraOptions = {\r\n    saveToPhotoAlbum: false,\r\n    cameraDirection: 1, // front-facing camera = 1, back-facing(def) = 0\r\n    destinationType: 0, // base-64 = 0, file-uri(def) = 1\r\n    quality: 10\r\n   }\r\n   this.camera.getPicture(cameraOptions).then((imageData) => {\r\n    this.presentLoading()\r\n    console.log(imageData)\r\n    this.faceapiCall(imageData).then((resp) => {\r\n      this.loading.dismiss()\r\n      console.log(resp)\r\n      // this if statement just checks whether the response from the api\r\n      // says if there is a face or not.\r\n      if (resp._label == \"azim\") {\r\n        this.postData.Username = \"john\"\r\n        this.postData.Password = \"Pwd123\"\r\n\r\n        this.AuthLogin()\r\n      }\r\n      else if (resp._label) {\r\n        this.toastService.presentToast(\r\n          \"Face detected but not recognised.\"\r\n        )\r\n      }\r\n      else {\r\n        this.toastService.presentToast(\r\n          \"No faces detected in image.\"\r\n        )\r\n      }\r\n\r\n    })\r\n   }, (err) => {\r\n     console.log(\"Camera issue:\" + err)\r\n   })\r\n }\r\n \r\nfaceapiCall(imageData) {\r\n  // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors\r\n  var proxyUrl = \"https://serene-shelf-84252.herokuapp.com/\" //proxy for CORS\r\n  var apiUrl = \"https://stark-shore-14544.herokuapp.com/face\"\r\n\r\n  var myHeaders = new Headers();\r\n  myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n  var jsonData = {\r\n    face: imageData\r\n  }\r\n\r\n  var requestOptions: RequestInit = {\r\n    method: 'POST',\r\n    headers: myHeaders,\r\n    body: JSON.stringify(jsonData),\r\n    redirect: 'follow'\r\n  };\r\n\r\n  return fetch(proxyUrl+ apiUrl, requestOptions)\r\n    .then(resp => resp.json())\r\n    .catch(error => console.log('error: ', error));\r\n }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Injectable({\r\nprovidedIn: 'root'\r\n})\r\nexport class ToastService {\r\nconstructor(public toastController: ToastController) {}\r\n\r\nasync presentToast(infoMessage: string) {\r\nconst toast = await this.toastController.create({\r\nmessage: infoMessage,\r\nduration: 2000\r\n});\r\ntoast.present();\r\n}\r\n}"],"sourceRoot":"webpack:///"}